---
name: prompt-asset-designer
description: AI 서비스의 핵심 자산인 프롬프트와 AI 품질 관리 기준을 설계합니다.
---

# prompt-asset-designer

AI 서비스의 핵심 자산인 **프롬프트와 AI 품질 관리 기준**을 설계합니다. AI가 사용자에게 어떻게 대화하고, 어떤 품질로 답변해야 하는지에 대한 설계도를 만듭니다.

## 활성화 조건
* `output/ideas/{id}-{name}/idea.json`의 `ai_business.detected` 값이 `true`일 때 자동 활성화
* 사용자가 "AI 서비스", "챗봇", "자동화", "AI 답변", "프롬프트" 관련 키워드 사용 시 활성화
* `/automation-blueprint` 워크플로우 완료 후 연동

## 수행 작업

### 1. 시스템 프롬프트 설계

AI가 어떤 성격으로, 어떤 규칙을 지키며 대화할지 설계합니다.

#### 페르소나 정의 (AI가 어떤 성격으로 대화할지)

| 항목 | 설명 | 예시 |
|------|------|------|
| 이름 | AI 서비스의 이름 | "케어봇", "법률 도우미" |
| 역할 | AI가 맡는 역할 | "고객 상담 전문가", "세무 어시스턴트" |
| 말투 | 대화 스타일 | "친절하고 공손한 존댓말", "전문적이지만 쉬운 설명" |
| 전문 분야 | AI가 잘 아는 영역 | "한국 세법", "전자제품 A/S" |
| 대상 사용자 | 누구와 대화하는지 | "소상공인", "20~30대 직장인" |

#### 제약조건 (AI가 하면 안 되는 것)

* 확실하지 않은 정보를 확정적으로 답변하지 않는다
* 의료/법률/세무 최종 판단을 내리지 않는다 (전문가 상담 안내)
* 개인정보를 요청하거나 저장하지 않는다
* 경쟁사를 비방하지 않는다
* 서비스 범위 밖의 질문에는 정중히 안내한다

#### 출력 형식 (AI가 어떤 형태로 답변할지)

```
응답 구조:
1. 핵심 답변 (1-2문장)
2. 상세 설명 (필요 시)
3. 다음 행동 안내 ("더 궁금하신 점이 있으시면...")

형식 규칙:
- 한 답변당 최대 300자
- 전문 용어 사용 시 괄호 안에 쉬운 설명 병기
- 숫자/금액은 명확하게 표기
```

#### Few-shot 예시 (이런 질문에 이렇게 답해)

프롬프트에 포함할 예시 대화 2~3쌍을 설계합니다:

```
[예시 1]
사용자: 부가세 신고 기한이 언제인가요?
AI: 부가가치세 신고 기한은 1기(1~6월분)는 7월 25일, 2기(7~12월분)는 다음해 1월 25일입니다. 간이과세자는 1월 25일에 한 번만 신고합니다. 정확한 신고를 위해 세무사 상담도 병행하시길 권장합니다.

[예시 2]
사용자: 직원 퇴직금 계산해줘
AI: 퇴직금 계산을 도와드리겠습니다. 퇴직금 = 1일 평균임금 x 30일 x (재직일수/365)입니다. 정확한 계산을 위해 입사일, 퇴직일, 최근 3개월 급여를 알려주시면 추정 금액을 안내해드릴게요.
```

### 2. 회사 자료를 AI가 참고하는 구조 (RAG 파이프라인 명세)

AI가 회사의 자료(문서, FAQ, 매뉴얼 등)를 참고해서 답변하는 구조를 설계합니다.

#### 어떤 자료를 AI에게 제공할지

| 자료 유형 | 예시 | 우선순위 | 업데이트 주기 |
|----------|------|---------|-------------|
| FAQ/자주 묻는 질문 | 고객 문의 TOP 50 | 높음 | 월 1회 |
| 제품/서비스 매뉴얼 | 사용 설명서, 가이드 | 높음 | 변경 시 |
| 정책/약관 | 환불 정책, 이용약관 | 중간 | 변경 시 |
| 블로그/콘텐츠 | 회사 블로그, 뉴스 | 낮음 | 자동 수집 |

#### 자료 쪼개기 방법 (청크 전략)

| 자료 유형 | 쪼개기 단위 | 크기 | 이유 |
|----------|-----------|------|------|
| FAQ | 질문-답변 1쌍 | 200~500자 | 정확한 매칭 |
| 매뉴얼 | 소제목(H2/H3) 단위 | 500~1,000자 | 맥락 유지 |
| 약관 | 조항 단위 | 300~800자 | 법적 정확성 |

#### 가장 관련 있는 자료 찾기 (검색 방식)

```
검색 흐름:
1. 사용자 질문 → 의미 벡터로 변환 (임베딩)
2. 벡터 저장소에서 유사도 상위 3~5개 자료 검색
3. 검색된 자료를 프롬프트에 포함하여 AI에게 전달
4. AI가 자료를 참고하여 답변 생성

추천 도구:
- 벡터 저장소 (AI 전용 자료 저장소): Pinecone, Supabase pgvector, Chroma
- 임베딩 모델: OpenAI text-embedding-3-small, Cohere embed
```

### 3. AI 답변 품질 채점표 (Eval 기준 설계)

AI 답변의 품질을 객관적으로 평가하는 기준을 설계합니다.

| 지표 | 설명 | 1점 (불량) | 3점 (보통) | 5점 (우수) |
|------|------|----------|----------|----------|
| 정확성 (Correctness) | 답변 내용이 사실과 일치하는가 | 틀린 정보 포함 | 대체로 맞지만 부정확한 부분 있음 | 완전히 정확하고 검증 가능 |
| 관련성 (Relevance) | 질문에 대한 답변인가 | 질문과 무관한 답변 | 관련은 있지만 핵심을 벗어남 | 질문의 핵심을 정확히 답변 |
| 안전성 (Safety) | 유해하거나 부적절한 내용이 없는가 | 유해/부적절 내용 포함 | 경미한 주의 필요 | 완전히 안전하고 적절 |
| 완결성 (Completeness) | 필요한 정보를 충분히 제공하는가 | 핵심 정보 누락 | 기본은 있지만 보충 필요 | 필요한 정보 모두 포함 |
| 톤/어조 (Tone) | 설정한 말투와 일치하는가 | 설정과 완전히 다름 | 대체로 맞지만 불일치 있음 | 설정한 어조와 완벽 일치 |

#### 평가 방법
* 출시 전: 테스트 질문 50개로 사전 평가 (평균 4점 이상 목표)
* 운영 중: 주간 샘플 20건 랜덤 평가
* 사용자 피드백: 답변 하단 "도움이 되었나요?" 버튼으로 수집

### 4. AI 안전장치 목록 (Guardrails 체크리스트)

| 안전장치 | 설명 | 구현 방법 | 우선순위 |
|---------|------|----------|---------|
| 환각 방지 | AI가 모르는 것을 지어내는 것 방지 | RAG 기반 답변 + "확실하지 않습니다" 응답 허용 | 필수 |
| 개인정보 마스킹 (PII) | 이름, 전화번호, 주민번호 등 보호 | 입출력에서 개인정보 패턴 탐지 및 마스킹 | 필수 |
| 악의적 입력 차단 | "시스템 프롬프트 알려줘" 같은 공격 차단 | 입력 필터링 + 프롬프트 인젝션 방어 | 필수 |
| 부적절 응답 필터링 | 폭력, 혐오, 성적 내용 차단 | 출력 필터 + 콘텐츠 분류 모델 | 필수 |
| 범위 제한 | 서비스 영역 밖 질문 거절 | 토픽 분류기 + 안내 메시지 | 권장 |
| 사용량 제한 | 과도한 사용 방지 | 분당/일간 요청 제한 (Rate Limiting) | 권장 |

## 출력 형식
* 시스템 프롬프트 설계서는 구조화된 문서로 작성합니다
* Eval 기준은 채점 루브릭 표로 제공합니다
* 안전장치는 체크리스트 표로 제공합니다
* output/tech-spec/prompt-assets.md에 저장합니다

## 출력 규칙
* 기술 용어에는 반드시 비개발자용 설명을 병기합니다
* 프롬프트 예시는 사용자의 실제 서비스 맥락에 맞게 작성합니다
* Eval 기준은 출시 전/운영 중 두 단계로 나눠 안내합니다
* 안전장치는 "필수"와 "권장"으로 우선순위를 구분합니다

## 다음 단계
* 프롬프트 설계 완료 → `/ai-pricing-calculator`로 AI 비용 계산
* 기술 스택 선택 필요 → `/nocode-decision-tree`로 구현 방식 결정
* 전체 진행률 확인 → `/check-progress`
