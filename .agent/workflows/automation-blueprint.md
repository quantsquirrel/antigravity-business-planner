# automation-blueprint

AI 자동화 파이프라인의 설계 명세서를 생성합니다. "이런 자동화를 만들고 싶어요"라고 말하면, 자동화 흐름도와 구성 명세를 출력합니다.

## 자동화 니즈 인터뷰

아래 질문을 통해 사용자의 자동화 요구사항을 파악합니다:

* "어떤 작업을 자동화하고 싶으세요?" (반복 업무 파악)
* "지금은 어떻게 하고 계세요?" (현재 프로세스 파악)
* "하루에 몇 번 반복하세요?" (빈도 파악)
* "자동화가 실패하면 어떻게 대처하세요?" (예외 처리 파악)
* "어떤 서비스/도구를 이미 쓰고 계세요?" (기존 도구 파악)

## 수행 작업

### 자동화 흐름도 생성

자동화 파이프라인을 Mermaid 다이어그램(자동화 흐름도 그림)으로 시각화합니다.

```mermaid
graph LR
    A[자동화가 시작되는 조건] --> B[데이터 수집]
    B --> C[데이터 처리/변환]
    C --> D[결과 저장]
    D --> E[알림 발송]
```

> 비개발자에게는 "자동화 흐름을 그림으로 보여드릴게요"라고 안내합니다.

### 노드별 역할 정의

자동화의 각 단계가 무엇을 하는지 표로 정리합니다:

| 단계 | 역할 | 입력 | 출력 | 설명 |
|------|------|------|------|------|
| 자동화가 시작되는 조건 (트리거) | 자동화 시작 시점 결정 | 외부 신호/일정 | 시작 명령 | 예: 새 주문 접수, 매일 오전 9시 |
| 데이터 수집 | 필요한 정보 가져오기 | API/DB/파일 | 원시 데이터 | 예: 주문 정보, 고객 데이터 |
| 처리/변환 | 데이터 가공 | 원시 데이터 | 가공된 데이터 | 예: 형식 변환, 필터링 |
| 결과 저장 | 처리 결과 보관 | 가공된 데이터 | 저장된 레코드 | 예: DB 저장, 스프레드시트 기록 |
| 알림 발송 | 결과 전달 | 저장된 레코드 | 알림 메시지 | 예: 슬랙 메시지, 이메일 |

### 도구 매핑

각 단계에 적합한 자동화 도구를 추천합니다:

| 도구 | 난이도 | 월 비용 | 장점 | 단점 | 추천 대상 |
|------|--------|---------|------|------|----------|
| Zapier | 매우 쉬움 | $20~$70 | 연동 앱 많음, UI 직관적 | 비용 높음, 복잡한 로직 한계 | 비개발자, 빠른 연동 |
| Make (Integromat) | 쉬움 | $9~$30 | 시각적 편집, 유연한 로직 | 학습 곡선 약간 있음 | 비개발자~초급 개발자 |
| n8n | 보통 | 무료(셀프호스팅)~$20 | 오픈소스, 커스텀 자유 | 셀프호스팅 필요 | 개발 경험 약간 있는 사용자 |
| 직접 개발 | 어려움 | 서버 비용만 | 완전한 자유도 | 개발/유지보수 부담 | 개발자 |

### n8n/Make 시나리오 구조도

개발 도구에서 활용할 수 있는 워크플로우 명세를 JSON 스키마 형태로 제공합니다:

```json
{
  "workflow_name": "자동화 시나리오명",
  "trigger": {
    "type": "webhook | schedule | event",
    "config": {
      "description": "자동화가 시작되는 조건 설명"
    }
  },
  "nodes": [
    {
      "id": "node_1",
      "name": "단계명",
      "type": "http_request | data_transform | db_query | notification",
      "description": "이 단계가 하는 일",
      "input": "이전 단계의 출력",
      "output": "다음 단계로 전달할 데이터",
      "tool": "추천 도구/서비스",
      "config": {}
    }
  ],
  "error_handling": {
    "retry": "재시도 횟수",
    "fallback": "실패 시 대안 동작",
    "alert": "장애 알림 채널"
  }
}
```

> 이 구조도는 n8n, Make 등에서 실제 시나리오를 구성할 때 참고 자료로 활용합니다. ABP가 직접 실행하지는 않습니다.

### 서비스 간 데이터 연결 맵 (API 연동)

어떤 서비스가 어떤 서비스와 연결되는지 데이터 흐름을 정리합니다:

| 출발 서비스 | 연결 방식 | 도착 서비스 | 전달 데이터 | 인증 방식 |
|-----------|----------|-----------|-----------|----------|
| (예: Shopify) | 다른 서비스가 알려주는 신호 (웹훅) | (예: Google Sheets) | 주문 데이터 | API 키 |
| (예: Google Sheets) | 주기적 확인 | (예: Slack) | 알림 메시지 | OAuth |

### 비용 추정

자동화에 소요되는 월간 비용을 추정합니다:

| 비용 항목 | 월 예상 비용 | 비고 |
|----------|------------|------|
| 자동화 도구 (Make/n8n 등) | $0~$70 | 무료 티어~프로 플랜 |
| 서비스 간 데이터 연결 (API) 호출 비용 | $0~$50 | 호출 빈도에 따라 변동 |
| 데이터 저장 | $0~$25 | 무료 티어 활용 시 절감 |
| 모니터링/알림 | $0~$10 | BetterStack 등 |
| **월 합계 (추정)** | **$0~$155** | 규모에 따라 변동 |

> 비용은 추정치이며, 실제 사용량에 따라 달라집니다.

## Micro-SaaS 분기 (v2.0 Phase 7)

### 트리거 조건
* `output/ideas/{id}-{name}/idea.json`의 `business_scale` 값이 `"micro"` 또는 `"small"`일 때 자동 활성화

### 소규모 자동화 원칙
* **무료 도구 우선 추천**: n8n 셀프호스팅, Make 무료 티어, GitHub Actions 무료 분 활용
* **1인 관리 가능 복잡도 제한**: 자동화의 각 단계(노드) 10개 이하로 설계
* **단일 자동화 도구 권장**: 여러 도구를 혼용하지 않고 한 도구로 통일
* **모니터링 필수**: 자동화 실패 시 본인에게 즉시 알림 (Slack/이메일)

### 소규모 추천 구성

| 영역 | 추천 도구 | 비용 | 이유 |
|------|----------|------|------|
| 자동화 엔진 | n8n (셀프호스팅) 또는 Make 무료 | $0 | 무료로 시작 가능 |
| 서비스 연결 | 내장 연동 기능 활용 | $0 | 추가 도구 불필요 |
| 모니터링 | BetterStack 무료 | $0 | 장애 알림 |
| 데이터 저장 | Supabase 무료 | $0 | 월 500MB까지 무료 |

## 용어 매핑

이 워크플로우에서 사용하는 기술 용어는 비개발자에게 아래와 같이 안내합니다:

| 기술 용어 | 비개발자 표현 |
|----------|-------------|
| 트리거 | 자동화가 시작되는 조건 |
| 노드 | 자동화의 각 단계 |
| API 연동 | 서비스 간 데이터 연결 |
| 웹훅 | 다른 서비스가 알려주는 신호 |
| Mermaid 다이어그램 | 자동화 흐름도 (그림) |
| JSON 스키마 | 자동화 구성 설계도 (개발 도구용) |
| 폴링 | 주기적으로 확인하기 |

## 출력 형식
* 자동화 흐름도는 Mermaid 다이어그램으로 제공합니다
* 각 단계 역할과 도구 매핑은 표로 정리합니다
* 개발 도구용 워크플로우 명세는 JSON 스키마로 제공합니다
* output/tech-spec/automation-blueprint.md에 저장합니다

## 다음 단계
* 자동화 명세 완료 → `/prompt-asset-designer`로 AI 프롬프트 설계
* AI 비용 검토 필요 → `/ai-pricing-calculator`로 토큰 비용 계산
* 전체 비용 확인 → `/tco-dashboard`
* 전체 진행률 확인 → `/check-progress`
