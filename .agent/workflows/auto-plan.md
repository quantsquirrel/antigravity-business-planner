# auto-plan

사업 기획 8단계 전체를 순차적으로 안내합니다. 사용자가 주제만 말하면 각 단계를 자동으로 진행하고, 핵심 의사결정 포인트 3곳에서만 사용자의 확인을 받습니다.

## 사용법

```
/auto-plan 카페 창업
/auto-plan 앱 개발 사업
```

## 수행 작업

* 현재 진행 상황을 `scripts/check_progress.py`로 확인합니다
* 이미 완료된 단계는 건너뛰고 첫 번째 미완료 단계부터 시작합니다
* 각 단계 완료 후 핵심 결과를 1-2줄로 요약하고 다음 단계를 자동으로 제안합니다
* 의사결정 포인트(HITL) 3곳에서 사용자의 확인을 받습니다

### 사업 규모 확인 (v2.0 Phase 7)

* Step 0 시작 시 `idea.json`에 `business_scale` 값이 없으면 사용자에게 규모 선택을 안내합니다
* "어떤 규모의 사업인가요? (1인/소규모/스타트업/기존사업)"
* 선택 결과를 `idea.json`에 저장하고 이후 전 단계에 전파합니다

## 8단계 프로세스

| Step | 워크플로우 | 핵심 산출물 | HITL |
|------|-----------|-----------|------|
| 0 (선택) | /idea-discovery → /idea-validation | idea.json, evaluation.md | **HITL #1: 아이디어 선택** |
| 1 | /market-research | 시장조사 보고서 | |
| 2 | /competitor-analysis | 경쟁분석 보고서 | |
| 3 | /menu-costing | 원가분석표 | **HITL #2: 제품/가격 확인** |
| 4 | /financial-modeling | 재무모델, 3개년 재무제표 | |
| 5 | /operations-plan | 운영계획서 | |
| 6 | /branding-strategy | 브랜딩/마케팅 전략 | **HITL #3: 브랜드 확정** |
| 7 | /legal-checklist | 법률/인허가 체크리스트 | |
| 8 | /business-plan-draft | 종합 사업계획서 | |

## 의사결정 포인트 (Human-in-the-Loop)

### HITL #1: 아이디어 선택 (Step 0 완료 후)
* Go 판정을 받은 아이디어 목록을 제시합니다
* "어떤 아이디어로 진행하시겠습니까?" 라고 물어봅니다
* 사용자가 선택하면 해당 아이디어의 idea.json을 기준으로 이후 단계를 진행합니다

### HITL #2: 제품/가격 확인 (Step 3 완료 후)
* 원가 분석 결과를 요약하여 보여줍니다 (원가율, 마진율, 예상 판매가)
* "이 가격 구조로 진행하시겠습니까?" 라고 확인합니다
* 수정이 필요하면 대화 모드로 전환합니다

### HITL #3: 브랜드 확정 (Step 6 완료 후)
* 브랜드명 후보, 포지셔닝, 핵심 메시지를 제시합니다
* "이 브랜드 방향으로 확정하시겠습니까?" 라고 확인합니다
* 확정하면 나머지 단계를 자동으로 진행합니다

## 단계 완료 후 자동 안내

각 단계가 완료되면:
1. 해당 단계의 핵심 결과를 1-2줄로 요약합니다
2. 결과 파일 저장 위치를 안내합니다
3. "다음 단계: [Step N: 단계명]을 진행합니다. 계속할까요?" 를 표시합니다
4. 사용자가 확인하면 자동으로 다음 워크플로우를 실행합니다

### 동적 우선순위 추천 (v2.0 Phase 6)

단계 완료 후 산출물을 분석하여 조건에 따라 다음 우선순위를 동적으로 추천합니다:

* idea.json에서 경쟁 강도(competition_intensity) 점수 ≤ 2 → "💡 경쟁 환경 파악이 부족합니다. 경쟁분석(/competitor-analysis)을 먼저 진행하는 것을 추천합니다."
* idea.json에서 자원/자금(resources) 점수 ≤ 2 → "💡 자금 계획이 불분명합니다. 재무 모델링(/financial-modeling)을 우선 검토하세요."
* idea.json에 ai_business.detected: true → "💡 AI 사업으로 감지되었습니다. AI 특화 재무 모델(/financial-modeling + AI 템플릿)을 활용하세요."
* 데이터 신뢰도 D등급 비율 > 30% → "💡 가정 데이터가 많습니다. 시장조사(/market-research)로 데이터를 보강하세요."
* business_scale이 "micro" 또는 "small" → "💡 1인/소규모 빌더 모드입니다. 운영 계획은 자동화 스택 중심, 재무 모델은 Micro-SaaS 템플릿으로 진행합니다."

## Context Chaining 연동

* 각 단계 시작 시 context-chaining 규칙에 따라 선행 산출물을 자동 참조합니다
* idea.json의 메타데이터를 전 과정에 걸쳐 전파합니다
* 이전 단계에서 도출된 핵심 수치(TAM, 원가율, BEP 등)를 다음 단계에 자동 반영합니다

## 출력 규칙

* 진행률을 프로그레스 바로 표시합니다: `[████████░░] 80% (Step 7/8)`
* 각 단계 시작 시 "📋 Step N/8: [단계명] 시작" 을 표시합니다
* 완료된 단계는 ✅, 현재 단계는 🔄, 미완료는 ⬜ 로 표시합니다
* 중간에 중단해도 진행 상황이 output/에 저장되어 있으므로 이어서 진행 가능합니다

## 병렬 실행 안내

* Step 5(운영), 6(브랜딩), 7(법률)은 서로 독립적이므로 병렬 실행 가능합니다
* "Step 5-7은 병렬 실행 가능합니다. 한 번에 진행할까요?" 라고 제안합니다
* 사용자가 동의하면 3개 단계를 동시에 안내합니다
